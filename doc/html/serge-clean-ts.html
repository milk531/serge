<html>
<head>
    <title>serge-clean-ts</title>
    <link rel="stylesheet" href="media/pod.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="media/favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>
<body>
    <div class="wrapper">
        <div class="header-bg"></div>
        <div class="header">
            <a class="logo" href="serge.html"><img src="media/logo.svg" />Serge</a>
        </div>

        <h1 class="command">
            <code class="command">serge-clean-ts</code>
        </h1>

        <div class="content">

<h1 id="NAME">NAME</h1>

<p>serge-clean-ts - Delete orphaned translation files</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p><code>serge clean-ts [configuration-files] [--dry-run] [--for-each=&quot;do something with &#39;[PATH]&#39;&quot;] [--ts-dir=&lt;path&gt;]</code></p>

<p>Where <code>[configuration-files]</code> is a path to a specific .serge file, or a directory to scan .serge files in. You can specify multiple paths as separate command-line parameters. If no paths provided, Serge will look up for .serge files in the current directory.</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Gather all target translation directories and known file paths from all provided configuration files (assuming that path to these files contains a /%LOCALE%/ folder, otherwise the script will bail out), then delete all unknown (orphaned) files from those target directories.</p>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt><b>--dry-run</b></dt>
<dd>

<p>Just report orphaned translation files, do not delete them.</p>

</dd>
<dt><b>--ts-dir=path[,path2]</b>, <b>--ts-dirs=path[,path2]</b></dt>
<dd>

<p>An optional comma-separated list of directories with translation interchange files to scan and clean up.</p>

<p>By default, Serge will determine this list automatically by gathering <code>ts_file_path</code> paths from found .serge configuration files. In certain cases, however, it may fail to do so due to custom path rewriting logic that may tell Serge to save translation interchange files outside of the common <code>ts_file_path</code> root.</p>

<p>Note that the path can be specified either as a relative to the current working directory, or an absolute one, but exactly how it resolves by Serge (use <code>--dry-run</code> option to see the list of reported files and their paths).</p>

<p>For example, if your paths resolve to <code>/var/data/serge/configs/../ts/myproject/file.po</code>, you can specify <code>/var/data/serge/configs/../ts</code> as a value for this parameter, or you can specify <code>../ts</code> while being inside <code>/var/data/serge/configs</code> directory, but <code>/var/data/serge/ts</code> won&#39;t work.</p>

</dd>
<dt><b>--for-each=command</b></dt>
<dd>

<p>For each deleted file or deleted empty folder, run the specified command. The command is ran <b>after</b> the deletion. Inside command, use the &#39;[PATH]&#39; placeholder, which will be substituted with the full path to the file or directory. Make sure to surrond [PATH] in quotes according to your shell rules if the paths are likely to contain spaces.</p>

</dd>
</dl>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>Part of <a href="serge.html">serge</a> suite.</p>


        </div>

        <div class="footer">
            <div class="copyright">
                &copy; 2014&ndash;2018 Evernote Corporation.<br/>
                All rights reserved.
            </div>
            <div class="license">
                Serge is licensed under Standard Perl License (dual <a href="http://dev.perl.org/licenses/gpl1.html">GPL</a> / <a href="http://dev.perl.org/licenses/artistic.html">Artistic License</a>)<br/>
                Serge.io website and Serge documentation are licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            </div>
        </div>
    </div>
</body>
</html>

